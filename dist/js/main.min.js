function changeActiveBar(){let e=this.dataset.bar,t=document.querySelectorAll(".bar-description");document.querySelector(".bar-descriptions .active").classList.remove("active"),t[e-1].classList.add("active")}function loop(e){let t=document.querySelectorAll(".project"),r=document.querySelector(".projects-container"),o=document.querySelector(".projects");e?(carousel-=o.clientWidth/t.length,arrow_left.style.visibility="visible",Math.abs(carousel)+r.clientWidth>o.clientWidth&&(carousel=0,arrow_left.style.visibility="hidden"),o.style.transform=`translateX(${carousel}px)`):(carousel+=o.clientWidth/t.length,o.style.transform=`translateX(${carousel}px)`,carousel<=0&&(arrow_left.style.visibility="hidden"))}function initMap(){let e=new google.maps.StyledMapType([{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}]),t=new google.maps.Map(document.querySelector(".map"),{center:{lat:50.081596725673236,lng:19.949696344901934},zoom:15,disableDefaultUI:!0});new google.maps.Marker({position:{lat:50.081596725673236,lng:19.949696344901934},map:t,animation:google.maps.Animation.DROP,icon:{url:"../assets/img/marker.png",scaledSize:new google.maps.Size(60,72)}});t.mapTypes.set("styled_map",e),t.setMapTypeId("styled_map")}function validate(e,t,r,o){let l=!0;return""===e.value?(e.parentElement.style.borderColor="#F00",l=!1):e.parentElement.style.removeProperty("border-color"),validateMail(t)?(t.parentElement.style.borderColor="#F00",l=!1):t.parentElement.style.removeProperty("border-color"),""!==r.value&&(validatePhone(r)?(r.parentElement.style.borderColor="#F00",l=!1):t.parentElement.style.removeProperty("border-color")),""===o.value?(o.parentElement.style.borderColor="#F00",l=!1):o.parentElement.style.removeProperty("border-color"),l}function validateMail(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e.value)}function validatePhone(e){return!/^[0-9\+]{8,13}$/.test(e.value)}function sendMessage(e,t,r,o,l,a){validate(e,r,o,l)&&(Email.send({Host:"baguetta.nazwa.pl",Username:"portfolio@piech.it",Password:"Q6xg2gfVU-zYCJnAFk2V-GevDgQeSP-2Af64pgn3b-g7FSZeMsymne",To:"dawid@piech.it",From:"portfolio@piech.it",Subject:"Wiadomość z portfolio",Body:`<strong>Name:</strong> ${e.value}, <br>\n            <strong>Firm:</strong> ${t.value}, <br>\n            <strong>Mail:</strong> ${r.value}, <br>\n            <strong>Phone:</strong> ${o.value}, <br><br>\n            ${l.value}\n            `}).then(n=>{"OK"===n?(a.style.backgroundColor="green",a.innerHTML="Wiadomość została wysłana.",setTimeout(()=>{a.style.removeProperty("background-color"),a.innerHTML="Wyślij"},2e3),e.value="",t.value="",r.value="",o.value="",l.value=""):(a.style.backgroundColor="red",a.innerHTML="Błąd, spróbuj ponownie lub kliknij w e-mail na dole.",setTimeout(()=>{a.style.removeProperty("background-color"),a.innerHTML="Wyślij"},2e3),console.log(n))}),e.parentElement.style.removeProperty("border-color"),r.parentElement.style.removeProperty("border-color"),l.parentElement.style.removeProperty("border-color"),o.parentElement.style.removeProperty("border-color"))}function checkImagesLoaded(e,t){let r=e.length;for(let o=0;o<e.length;o++)e[o].complete?r--:e[o].addEventListener("load",()=>{0===--r&&allImagesLoaded(t)});0===r&&allImagesLoaded(t)}function allImagesLoaded(e){document.querySelector("body").classList.remove("load"),e.classList.add("isLoaded")}function paralax(){document.querySelector(".section-header").style.backgroundPositionY=window.pageYOffset/4+"px"}let hamburger=document.querySelector(".hamburger"),menu_fields=document.querySelectorAll(".menu-form-field input"),mail_area=document.querySelectorAll(".menu-form-field textarea"),black_area=document.querySelector(".menu-back"),bars=document.querySelectorAll(".bar"),arrow_left=document.querySelector(".arrow-left"),arrow_right=document.querySelector(".arrow-right"),carousel=0,send_menu=document.querySelector(".menu-form .send"),send_contact=document.querySelector(".section-form .send"),preloader=document.querySelector(".preloader"),img=document.querySelectorAll("img");document.addEventListener("DOMContentLoaded",()=>{hamburger.addEventListener("click",()=>{document.querySelector("header").classList.toggle("open")}),menu_fields.forEach(e=>{e.addEventListener("focusin",()=>{e.parentElement.classList.add("focus")})}),mail_area.forEach(e=>{e.addEventListener("focusin",()=>{e.parentElement.classList.add("focus-area")})}),menu_fields.forEach(e=>{e.addEventListener("focusout",()=>{""===e.value&&e.parentElement.classList.remove("focus")})}),mail_area.forEach(e=>{e.addEventListener("focusout",()=>{""===e.value&&e.parentElement.classList.remove("focus-area")})}),black_area.addEventListener("click",()=>{document.querySelector("header").classList.remove("open")});for(let e=0;e<bars.length;e++)bars[e].addEventListener("click",changeActiveBar);null!=arrow_left&null!=arrow_right&&(arrow_left.addEventListener("click",()=>{loop(!1)}),arrow_right.addEventListener("click",()=>{loop(!0)})),null!=send_contact&&send_contact.addEventListener("click",function(){sendMessage(...[document.querySelector(".section-form input[name='name']"),document.querySelector(".section-form input[name='company_name']"),document.querySelector(".section-form input[name='e-mail']"),document.querySelector(".section-form input[name='telephone']"),document.querySelector(".section-form textarea[name='message']")],send_contact)}),null!=send_menu&&send_menu.addEventListener("click",function(){sendMessage(...[document.querySelector(".menu-form input[name='name']"),document.querySelector(".menu-form input[name='company_name']"),document.querySelector(".menu-form input[name='e-mail']"),document.querySelector(".menu-form input[name='telephone']"),document.querySelector(".menu-form textarea[name='message']")],send_menu)}),setTimeout(()=>{checkImagesLoaded(img,preloader)},500),window.addEventListener("scroll",()=>{null!=document.querySelector(".section-header")&&paralax()}),AOS.init()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZ1bmN0aW9ucy5qcyIsInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJjaGFuZ2VBY3RpdmVCYXIiLCJhIiwidGhpcyIsImRhdGFzZXQiLCJiYXIiLCJiYXJfZGVzYyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJsb29wIiwic2xpZGVzIiwic2xpZGVyIiwicHJvamVjdHNfY29udGFpbmVyIiwiY2Fyb3VzZWwiLCJjbGllbnRXaWR0aCIsImxlbmd0aCIsImFycm93X2xlZnQiLCJzdHlsZSIsInZpc2liaWxpdHkiLCJNYXRoIiwiYWJzIiwidHJhbnNmb3JtIiwiaW5pdE1hcCIsInN0eWxlZE1hcFR5cGUiLCJnb29nbGUiLCJtYXBzIiwiU3R5bGVkTWFwVHlwZSIsImVsZW1lbnRUeXBlIiwic3R5bGVycyIsImNvbG9yIiwiZmVhdHVyZVR5cGUiLCJtYXAiLCJNYXAiLCJjZW50ZXIiLCJsYXQiLCJsbmciLCJ6b29tIiwiZGlzYWJsZURlZmF1bHRVSSIsIk1hcmtlciIsInBvc2l0aW9uIiwiYW5pbWF0aW9uIiwiQW5pbWF0aW9uIiwiRFJPUCIsImljb24iLCJ1cmwiLCJzY2FsZWRTaXplIiwiU2l6ZSIsIm1hcFR5cGVzIiwic2V0Iiwic2V0TWFwVHlwZUlkIiwidmFsaWRhdGUiLCJuYW1lIiwibWFpbCIsInBob25lIiwibWVzc2FnZSIsImNvbnRyb2xsIiwidmFsdWUiLCJwYXJlbnRFbGVtZW50IiwiYm9yZGVyQ29sb3IiLCJyZW1vdmVQcm9wZXJ0eSIsInZhbGlkYXRlTWFpbCIsInZhbGlkYXRlUGhvbmUiLCJ0ZXN0Iiwic2VuZE1lc3NhZ2UiLCJmaXJtIiwiYnV0dG9uIiwiRW1haWwiLCJzZW5kIiwiSG9zdCIsIlVzZXJuYW1lIiwiUGFzc3dvcmQiLCJUbyIsIkZyb20iLCJTdWJqZWN0IiwiQm9keSIsInRoZW4iLCJiYWNrZ3JvdW5kQ29sb3IiLCJpbm5lckhUTUwiLCJzZXRUaW1lb3V0IiwiY29uc29sZSIsImxvZyIsImNoZWNrSW1hZ2VzTG9hZGVkIiwiaW1hZ2VzQXJyYXkiLCJwcmVsb2FkZXJIYW5kbGUiLCJsb2FkZWQiLCJpIiwiY29tcGxldGUiLCJhZGRFdmVudExpc3RlbmVyIiwiYWxsSW1hZ2VzTG9hZGVkIiwicHJlbG9hZGVyIiwicGFyYWxheCIsImJhY2tncm91bmRQb3NpdGlvblkiLCJ3aW5kb3ciLCJwYWdlWU9mZnNldCIsImhhbWJ1cmdlciIsIm1lbnVfZmllbGRzIiwibWFpbF9hcmVhIiwiYmxhY2tfYXJlYSIsImJhcnMiLCJhcnJvd19yaWdodCIsInNlbmRfbWVudSIsInNlbmRfY29udGFjdCIsImltZyIsInRvZ2dsZSIsImZvckVhY2giLCJBT1MiLCJpbml0Il0sIm1hcHBpbmdzIjoiQUFBQSxTQUFBQSxrQkFDQSxJQUFBQyxFQUFBQyxLQUFBQyxRQUFBQyxJQUNBQyxFQUFBQyxTQUFBQyxpQkFBQSxvQkFDQUQsU0FBQUUsY0FBQSw2QkFFQUMsVUFBQUMsT0FBQSxVQUNBTCxFQUFBSixFQUFBLEdBQUFRLFVBQUFFLElBQUEsVUFHQSxTQUFBQyxLQUFBWCxHQUVBLElBQUFZLEVBQUFQLFNBQUFDLGlCQUFBLFlBQ0FPLEVBQUFSLFNBQUFFLGNBQUEsdUJBQ0FPLEVBQUFULFNBQUFFLGNBQUEsYUFFQVAsR0FDQWUsVUFBQUQsRUFBQUUsWUFBQUosRUFBQUssT0FDQUMsV0FBQUMsTUFBQUMsV0FBQSxVQUNBQyxLQUFBQyxJQUFBUCxVQUFBRixFQUFBRyxZQUFBRixFQUFBRSxjQUNBRCxTQUFBLEVBQ0FHLFdBQUFDLE1BQUFDLFdBQUEsVUFFQU4sRUFBQUssTUFBQUksd0JBQUFSLGdCQUdBQSxVQUFBRCxFQUFBRSxZQUFBSixFQUFBSyxPQUNBSCxFQUFBSyxNQUFBSSx3QkFBQVIsY0FDQUEsVUFBQSxJQUNBRyxXQUFBQyxNQUFBQyxXQUFBLFdBSUEsU0FBQUksVUFDQSxJQUFBQyxFQUFBLElBQUFDLE9BQUFDLEtBQUFDLGNBQ0EsQ0FDQSxDQUNBQyxZQUFBLFdBQ0FDLFFBQUEsQ0FDQSxDQUNBQyxNQUFBLGFBSUEsQ0FDQUYsWUFBQSxjQUNBQyxRQUFBLENBQ0EsQ0FDQVYsV0FBQSxTQUlBLENBQ0FTLFlBQUEsbUJBQ0FDLFFBQUEsQ0FDQSxDQUNBQyxNQUFBLGFBSUEsQ0FDQUYsWUFBQSxxQkFDQUMsUUFBQSxDQUNBLENBQ0FDLE1BQUEsYUFJQSxDQUNBQyxZQUFBLGlCQUNBSCxZQUFBLFdBQ0FDLFFBQUEsQ0FDQSxDQUNBQyxNQUFBLGFBSUEsQ0FDQUMsWUFBQSx5QkFDQUgsWUFBQSxtQkFDQUMsUUFBQSxDQUNBLENBQ0FDLE1BQUEsYUFJQSxDQUNBQyxZQUFBLDZCQUNBRixRQUFBLENBQ0EsQ0FDQVYsV0FBQSxTQUlBLENBQ0FZLFlBQUEsMEJBQ0FILFlBQUEsbUJBQ0FDLFFBQUEsQ0FDQSxDQUNBQyxNQUFBLGFBSUEsQ0FDQUMsWUFBQSxNQUNBSCxZQUFBLG1CQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FDLFlBQUEsV0FDQUgsWUFBQSxXQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FDLFlBQUEsV0FDQUgsWUFBQSxtQkFDQUMsUUFBQSxDQUNBLENBQ0FDLE1BQUEsYUFJQSxDQUNBQyxZQUFBLFdBQ0FILFlBQUEscUJBQ0FDLFFBQUEsQ0FDQSxDQUNBQyxNQUFBLGFBSUEsQ0FDQUMsWUFBQSxPQUNBSCxZQUFBLGdCQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FDLFlBQUEsT0FDQUgsWUFBQSxtQkFDQUMsUUFBQSxDQUNBLENBQ0FDLE1BQUEsYUFJQSxDQUNBQyxZQUFBLGdCQUNBSCxZQUFBLFdBQ0FDLFFBQUEsQ0FDQSxDQUNBQyxNQUFBLGFBSUEsQ0FDQUMsWUFBQSxlQUNBSCxZQUFBLFdBQ0FDLFFBQUEsQ0FDQSxDQUNBQyxNQUFBLGFBSUEsQ0FDQUMsWUFBQSxpQ0FDQUgsWUFBQSxXQUNBQyxRQUFBLENBQ0EsQ0FDQUMsTUFBQSxhQUlBLENBQ0FDLFlBQUEsYUFDQUgsWUFBQSxtQkFDQUMsUUFBQSxD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QTJELGNBQUFuRCxVQUFBQyxPQUFBLGFBTUF5RixVQUFBUSxRQUFBMUcsSUFDQUEsRUFBQXlGLGlCQUFBLFdBQUEsS0FDQSxLQUFBekYsRUFBQTBELE9BQ0ExRCxFQUFBMkQsY0FBQW5ELFVBQUFDLE9BQUEsa0JBTUEwRixXQUFBVixpQkFBQSxRQUFBLEtBQ0FwRixTQUFBRSxjQUFBLFVBQUFDLFVBQUFDLE9BQUEsVUFHQSxJQUFBLElBQUE4RSxFQUFBLEVBQUFBLEVBQUFhLEtBQUFuRixPQUFBc0UsSUFDQWEsS0FBQWIsR0FBQUUsaUJBQUEsUUFBQTFGLGlCQUlBLE1BQUFtQixXQUFBLE1BQUFtRixjQUVBbkYsV0FBQXVFLGlCQUFBLFFBQUEsS0FDQTlFLE1BQUEsS0FFQTBGLFlBQUFaLGlCQUFBLFFBQUEsS0FDQTlFLE1BQUEsTUFNQSxNQUFBNEYsY0FFQUEsYUFBQWQsaUJBQUEsUUFBQSxXQVFBeEIsZUFQQSxDQUNBNUQsU0FBQUUsY0FBQSxvQ0FDQUYsU0FBQUUsY0FBQSw0Q0FDQUYsU0FBQUUsY0FBQSxzQ0FDQUYsU0FBQUUsY0FBQSx5Q0FDQUYsU0FBQUUsY0FBQSwyQ0FFQWdHLGdCQUtBLE1BQUFELFdBRUFBLFVBQUFiLGlCQUFBLFFBQUEsV0FTQXhCLGVBUkEsQ0FDQTVELFNBQUFFLGNBQUEsaUNBQ0FGLFNBQUFFLGNBQUEseUNBQ0FGLFNBQUFFLGNBQUEsbUNBQ0FGLFNBQUFFLGNBQUEsc0NBQ0FGLFNBQUFFLGNBQUEsd0NBR0ErRixhQUlBdEIsV0FBQSxLQUNBRyxrQkFBQXFCLElBQUFiLFlBQ0EsS0FHQUcsT0FBQUwsaUJBQUEsU0FBQSxLQUNBLE1BQUFwRixTQUFBRSxjQUFBLG9CQUNBcUYsWUFHQWUsSUFBQUMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBjaGFuZ2VBY3RpdmVCYXIoKSB7XHJcbiAgICBsZXQgYSA9IHRoaXMuZGF0YXNldC5iYXIsXHJcbiAgICAgICAgYmFyX2Rlc2MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJhci1kZXNjcmlwdGlvblwiKSxcclxuICAgICAgICBiYXJfYWN0aXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5iYXItZGVzY3JpcHRpb25zIC5hY3RpdmVcIilcclxuXHJcbiAgICBiYXJfYWN0aXZlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIilcclxuICAgIGJhcl9kZXNjW2EgLSAxXS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxvb3AoYSkge1xyXG5cclxuICAgIGxldCBzbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3RcIiksXHJcbiAgICAgICAgc2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0cy1jb250YWluZXJcIiksXHJcbiAgICAgICAgcHJvamVjdHNfY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0c1wiKVxyXG5cclxuICAgIGlmIChhKSB7XHJcbiAgICAgICAgY2Fyb3VzZWwgLT0gcHJvamVjdHNfY29udGFpbmVyLmNsaWVudFdpZHRoIC8gc2xpZGVzLmxlbmd0aFxyXG4gICAgICAgIGFycm93X2xlZnQuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiXHJcbiAgICAgICAgaWYgKE1hdGguYWJzKGNhcm91c2VsKSArIHNsaWRlci5jbGllbnRXaWR0aCA+IHByb2plY3RzX2NvbnRhaW5lci5jbGllbnRXaWR0aCkge1xyXG4gICAgICAgICAgICBjYXJvdXNlbCA9IDA7XHJcbiAgICAgICAgICAgIGFycm93X2xlZnQuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCJcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJvamVjdHNfY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7Y2Fyb3VzZWx9cHgpYFxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY2Fyb3VzZWwgKz0gcHJvamVjdHNfY29udGFpbmVyLmNsaWVudFdpZHRoIC8gc2xpZGVzLmxlbmd0aFxyXG4gICAgICAgIHByb2plY3RzX2NvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke2Nhcm91c2VsfXB4KWBcclxuICAgICAgICBpZiAoY2Fyb3VzZWwgPD0gMClcclxuICAgICAgICAgICAgYXJyb3dfbGVmdC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIlxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0TWFwKCkge1xyXG4gICAgbGV0IHN0eWxlZE1hcFR5cGUgPSBuZXcgZ29vZ2xlLm1hcHMuU3R5bGVkTWFwVHlwZShcclxuICAgICAgICBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJnZW9tZXRyeVwiLFxyXG4gICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjMjEyMTIxXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHMuaWNvblwiLFxyXG4gICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidmlzaWJpbGl0eVwiOiBcIm9mZlwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBcImVsZW1lbnRUeXBlXCI6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxyXG4gICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjNzU3NTc1XCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHMudGV4dC5zdHJva2VcIixcclxuICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiIzIxMjEyMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwiYWRtaW5pc3RyYXRpdmVcIixcclxuICAgICAgICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJnZW9tZXRyeVwiLFxyXG4gICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjNzU3NTc1XCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJhZG1pbmlzdHJhdGl2ZS5jb3VudHJ5XCIsXHJcbiAgICAgICAgICAgICAgICBcImVsZW1lbnRUeXBlXCI6IFwibGFiZWxzLnRleHQuZmlsbFwiLFxyXG4gICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjOWU5ZTllXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJhZG1pbmlzdHJhdGl2ZS5sYW5kX3BhcmNlbFwiLFxyXG4gICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidmlzaWJpbGl0eVwiOiBcIm9mZlwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwiYWRtaW5pc3RyYXRpdmUubG9jYWxpdHlcIixcclxuICAgICAgICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiNiZGJkYmRcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInBvaVwiLFxyXG4gICAgICAgICAgICAgICAgXCJlbGVtZW50VHlwZVwiOiBcImxhYmVscy50ZXh0LmZpbGxcIixcclxuICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiIzc1NzU3NVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwicG9pLnBhcmtcIixcclxuICAgICAgICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJnZW9tZXRyeVwiLFxyXG4gICAgICAgICAgICAgICAgXCJzdHlsZXJzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogXCIjMTgxODE4XCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwiZmVhdHVyZVR5cGVcIjogXCJwb2kucGFya1wiLFxyXG4gICAgICAgICAgICAgICAgXCJlbGVtZW50VHlwZVwiOiBcImxhYmVscy50ZXh0LmZpbGxcIixcclxuICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiIzYxNjE2MVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwicG9pLnBhcmtcIixcclxuICAgICAgICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHMudGV4dC5zdHJva2VcIixcclxuICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiIzFiMWIxYlwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwicm9hZFwiLFxyXG4gICAgICAgICAgICAgICAgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5LmZpbGxcIixcclxuICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiIzJjMmMyY1wiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwicm9hZFwiLFxyXG4gICAgICAgICAgICAgICAgXCJlbGVtZW50VHlwZVwiOiBcImxhYmVscy50ZXh0LmZpbGxcIixcclxuICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiIzhhOGE4YVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5hcnRlcmlhbFwiLFxyXG4gICAgICAgICAgICAgICAgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5XCIsXHJcbiAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiMzNzM3MzdcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInJvYWQuaGlnaHdheVwiLFxyXG4gICAgICAgICAgICAgICAgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5XCIsXHJcbiAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiMzYzNjM2NcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInJvYWQuaGlnaHdheS5jb250cm9sbGVkX2FjY2Vzc1wiLFxyXG4gICAgICAgICAgICAgICAgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5XCIsXHJcbiAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiM0ZTRlNGVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInJvYWQubG9jYWxcIixcclxuICAgICAgICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiM2MTYxNjFcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcInRyYW5zaXRcIixcclxuICAgICAgICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiM3NTc1NzVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgXCJmZWF0dXJlVHlwZVwiOiBcIndhdGVyXCIsXHJcbiAgICAgICAgICAgICAgICBcImVsZW1lbnRUeXBlXCI6IFwiZ2VvbWV0cnlcIixcclxuICAgICAgICAgICAgICAgIFwic3R5bGVyc1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNvbG9yXCI6IFwiIzAwMDAwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBcImZlYXR1cmVUeXBlXCI6IFwid2F0ZXJcIixcclxuICAgICAgICAgICAgICAgIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHMudGV4dC5maWxsXCIsXHJcbiAgICAgICAgICAgICAgICBcInN0eWxlcnNcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb2xvclwiOiBcIiMzZDNkM2RcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF1cclxuICAgIClcclxuXHJcbiAgICBsZXQgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFwJyksIHtcclxuICAgICAgICBjZW50ZXI6IHsgbGF0OiA1MC4wODE1OTY3MjU2NzMyMzYsIGxuZzogMTkuOTQ5Njk2MzQ0OTAxOTM0IH0sXHJcbiAgICAgICAgem9vbTogMTUsXHJcbiAgICAgICAgZGlzYWJsZURlZmF1bHRVSTogdHJ1ZVxyXG4gICAgfSksXHJcblxyXG4gICAgICAgIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogeyBsYXQ6IDUwLjA4MTU5NjcyNTY3MzIzNiwgbG5nOiAxOS45NDk2OTYzNDQ5MDE5MzQgfSxcclxuICAgICAgICAgICAgbWFwOiBtYXAsXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbjogZ29vZ2xlLm1hcHMuQW5pbWF0aW9uLkRST1AsXHJcbiAgICAgICAgICAgIGljb246IHtcclxuICAgICAgICAgICAgICAgIHVybDogXCIuLi9hc3NldHMvaW1nL21hcmtlci5wbmdcIixcclxuICAgICAgICAgICAgICAgIHNjYWxlZFNpemU6IG5ldyBnb29nbGUubWFwcy5TaXplKDYwLCA3MilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgbWFwLm1hcFR5cGVzLnNldCgnc3R5bGVkX21hcCcsIHN0eWxlZE1hcFR5cGUpO1xyXG4gICAgbWFwLnNldE1hcFR5cGVJZCgnc3R5bGVkX21hcCcpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZShuYW1lLCBtYWlsLCBwaG9uZSwgbWVzc2FnZSkge1xyXG4gICAgbGV0IGNvbnRyb2xsID0gdHJ1ZVxyXG4gICAgaWYgKG5hbWUudmFsdWUgPT09IFwiXCIpIHtcclxuICAgICAgICBuYW1lLnBhcmVudEVsZW1lbnQuc3R5bGUuYm9yZGVyQ29sb3IgPSBcIiNGMDBcIlxyXG4gICAgICAgIGNvbnRyb2xsID0gZmFsc2VcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIG5hbWUucGFyZW50RWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImJvcmRlci1jb2xvclwiKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBpZiAodmFsaWRhdGVNYWlsKG1haWwpKSB7XHJcbiAgICAgICAgbWFpbC5wYXJlbnRFbGVtZW50LnN0eWxlLmJvcmRlckNvbG9yID0gXCIjRjAwXCJcclxuICAgICAgICBjb250cm9sbCA9IGZhbHNlXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBtYWlsLnBhcmVudEVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJib3JkZXItY29sb3JcIilcclxuICAgIH1cclxuXHJcbiAgICBpZiAocGhvbmUudmFsdWUgIT09IFwiXCIpXHJcbiAgICAgICAgaWYgKHZhbGlkYXRlUGhvbmUocGhvbmUpKSB7XHJcbiAgICAgICAgICAgIHBob25lLnBhcmVudEVsZW1lbnQuc3R5bGUuYm9yZGVyQ29sb3IgPSBcIiNGMDBcIlxyXG4gICAgICAgICAgICBjb250cm9sbCA9IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBtYWlsLnBhcmVudEVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJib3JkZXItY29sb3JcIilcclxuICAgICAgICB9XHJcblxyXG4gICAgaWYgKG1lc3NhZ2UudmFsdWUgPT09IFwiXCIpIHtcclxuICAgICAgICBtZXNzYWdlLnBhcmVudEVsZW1lbnQuc3R5bGUuYm9yZGVyQ29sb3IgPSBcIiNGMDBcIlxyXG4gICAgICAgIGNvbnRyb2xsID0gZmFsc2VcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIG1lc3NhZ2UucGFyZW50RWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImJvcmRlci1jb2xvclwiKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjb250cm9sbFxyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZU1haWwoYSkge1xyXG4gICAgbGV0IGNvbnRyb2xsID0gKC9eXFx3KyhbXFwuLV0/XFx3KykqQFxcdysoW1xcLi1dP1xcdyspKihcXC5cXHd7MiwzfSkrJC8udGVzdChhLnZhbHVlKSkgPyBmYWxzZSA6IHRydWVcclxuICAgIHJldHVybiBjb250cm9sbFxyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZVBob25lKGEpIHtcclxuICAgIGxldCBjb250cm9sbCA9ICgvXlswLTlcXCtdezgsMTN9JC8udGVzdChhLnZhbHVlKSkgPyBmYWxzZSA6IHRydWVcclxuICAgIHJldHVybiBjb250cm9sbFxyXG59XHJcblxyXG5mdW5jdGlvbiBzZW5kTWVzc2FnZShuYW1lLCBmaXJtLCBtYWlsLCBwaG9uZSwgbWVzc2FnZSwgYnV0dG9uKSB7XHJcbiAgICBpZiAodmFsaWRhdGUobmFtZSwgbWFpbCwgcGhvbmUsIG1lc3NhZ2UpKSB7XHJcbiAgICAgICAgRW1haWwuc2VuZCh7XHJcbiAgICAgICAgICAgIEhvc3QgOiBcImJhZ3VldHRhLm5hendhLnBsXCIsXHJcbiAgICAgICAgICAgIFVzZXJuYW1lIDogXCJwb3J0Zm9saW9AcGllY2guaXRcIixcclxuICAgICAgICAgICAgUGFzc3dvcmQgOiBcIlE2eGcyZ2ZWVS16WUNKbkFGazJWLUdldkRnUWVTUC0yQWY2NHBnbjNiLWc3RlNaZU1zeW1uZVwiLFxyXG4gICAgICAgICAgICBUbyA6ICdkYXdpZEBwaWVjaC5pdCcsXHJcbiAgICAgICAgICAgIEZyb20gOiBcInBvcnRmb2xpb0BwaWVjaC5pdFwiLFxyXG4gICAgICAgICAgICBTdWJqZWN0OiBcIldpYWRvbW/Fm8SHIHogcG9ydGZvbGlvXCIsXHJcbiAgICAgICAgICAgIEJvZHk6IGA8c3Ryb25nPk5hbWU6PC9zdHJvbmc+ICR7bmFtZS52YWx1ZX0sIDxicj5cclxuICAgICAgICAgICAgPHN0cm9uZz5GaXJtOjwvc3Ryb25nPiAke2Zpcm0udmFsdWV9LCA8YnI+XHJcbiAgICAgICAgICAgIDxzdHJvbmc+TWFpbDo8L3N0cm9uZz4gJHttYWlsLnZhbHVlfSwgPGJyPlxyXG4gICAgICAgICAgICA8c3Ryb25nPlBob25lOjwvc3Ryb25nPiAke3Bob25lLnZhbHVlfSwgPGJyPjxicj5cclxuICAgICAgICAgICAgJHttZXNzYWdlLnZhbHVlfVxyXG4gICAgICAgICAgICBgLFxyXG4gICAgICAgIH0pLnRoZW4oXHJcbiAgICAgICAgICAgIGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGEgPT09IFwiT0tcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZWVuXCJcclxuICAgICAgICAgICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gXCJXaWFkb21vxZvEhyB6b3N0YcWCYSB3eXPFgmFuYS5cIlxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiYmFja2dyb3VuZC1jb2xvclwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gXCJXecWbbGlqXCJcclxuICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZS52YWx1ZSA9IFwiXCJcclxuICAgICAgICAgICAgICAgICAgICBmaXJtLnZhbHVlID0gXCJcIlxyXG4gICAgICAgICAgICAgICAgICAgIG1haWwudmFsdWUgPSBcIlwiXHJcbiAgICAgICAgICAgICAgICAgICAgcGhvbmUudmFsdWUgPSBcIlwiXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IFwiXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCJcclxuICAgICAgICAgICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gXCJCxYLEhWQsIHNwcsOzYnVqIHBvbm93bmllIGx1YiBrbGlrbmlqIHcgZS1tYWlsIG5hIGRvbGUuXCJcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImJhY2tncm91bmQtY29sb3JcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmlubmVySFRNTCA9IFwiV3nFm2xpalwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMjAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGEpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcblxyXG5cclxuICAgICAgICBuYW1lLnBhcmVudEVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJib3JkZXItY29sb3JcIilcclxuICAgICAgICBtYWlsLnBhcmVudEVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJib3JkZXItY29sb3JcIilcclxuICAgICAgICBtZXNzYWdlLnBhcmVudEVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJib3JkZXItY29sb3JcIilcclxuICAgICAgICBwaG9uZS5wYXJlbnRFbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiYm9yZGVyLWNvbG9yXCIpXHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrSW1hZ2VzTG9hZGVkKGltYWdlc0FycmF5LCBwcmVsb2FkZXJIYW5kbGUpIHtcclxuICAgIGxldCBsb2FkZWQgPSBpbWFnZXNBcnJheS5sZW5ndGhcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlc0FycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGltYWdlc0FycmF5W2ldLmNvbXBsZXRlKSB7XHJcbiAgICAgICAgICAgIGxvYWRlZC0tXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpbWFnZXNBcnJheVtpXS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsb2FkZWQtLVxyXG4gICAgICAgICAgICAgICAgaWYgKGxvYWRlZCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsbEltYWdlc0xvYWRlZChwcmVsb2FkZXJIYW5kbGUpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChsb2FkZWQgPT09IDApIHtcclxuICAgICAgICBhbGxJbWFnZXNMb2FkZWQocHJlbG9hZGVySGFuZGxlKVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhbGxJbWFnZXNMb2FkZWQocHJlbG9hZGVyKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKS5jbGFzc0xpc3QucmVtb3ZlKFwibG9hZFwiKVxyXG4gICAgcHJlbG9hZGVyLmNsYXNzTGlzdC5hZGQoXCJpc0xvYWRlZFwiKVxyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJhbGF4KCkge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWN0aW9uLWhlYWRlclwiKS5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb25ZID0gd2luZG93LnBhZ2VZT2Zmc2V0IC8gNCArIFwicHhcIlxyXG59IiwibGV0IGhhbWJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGFtYnVyZ2VyXCIpLFxyXG4gICAgbWVudV9maWVsZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1lbnUtZm9ybS1maWVsZCBpbnB1dFwiKSxcclxuICAgIG1haWxfYXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWVudS1mb3JtLWZpZWxkIHRleHRhcmVhXCIpLFxyXG4gICAgYmxhY2tfYXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudS1iYWNrXCIpLFxyXG4gICAgYmFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYmFyXCIpLFxyXG4gICAgYXJyb3dfbGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXJyb3ctbGVmdFwiKSxcclxuICAgIGFycm93X3JpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hcnJvdy1yaWdodFwiKSxcclxuICAgIGNhcm91c2VsID0gMCxcclxuICAgIHNlbmRfbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudS1mb3JtIC5zZW5kXCIpLFxyXG4gICAgc2VuZF9jb250YWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWN0aW9uLWZvcm0gLnNlbmRcIiksXHJcbiAgICBwcmVsb2FkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByZWxvYWRlclwiKSxcclxuICAgIGltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbWdcIilcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcclxuXHJcblxyXG4gICAgLy9oYW1idXJnZXJcclxuICAgIGhhbWJ1cmdlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJoZWFkZXJcIikuY2xhc3NMaXN0LnRvZ2dsZShcIm9wZW5cIilcclxuICAgIH0pXHJcblxyXG4gICAgLy9sYWJlbCBhbmltYXRpb25cclxuICAgIG1lbnVfZmllbGRzLmZvckVhY2goYSA9PiB7XHJcbiAgICAgICAgYS5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNpblwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGEucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9jdXNcIilcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuXHJcbiAgICBtYWlsX2FyZWEuZm9yRWFjaChhID0+IHtcclxuICAgICAgICBhLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c2luXCIsICgpID0+IHtcclxuICAgICAgICAgICAgYS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmb2N1cy1hcmVhXCIpXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcblxyXG4gICAgbWVudV9maWVsZHMuZm9yRWFjaChhID0+IHtcclxuICAgICAgICBhLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c291dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhLnZhbHVlID09PSBcIlwiKVxyXG4gICAgICAgICAgICAgICAgYS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJmb2N1c1wiKVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG5cclxuXHJcbiAgICAvL2xhYmVsIGZvcm0gYW5pbWF0aW9uXHJcbiAgICBtYWlsX2FyZWEuZm9yRWFjaChhID0+IHtcclxuICAgICAgICBhLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c291dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhLnZhbHVlID09PSBcIlwiKVxyXG4gICAgICAgICAgICAgICAgYS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJmb2N1cy1hcmVhXCIpXHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcblxyXG5cclxuICAgIC8vY2xvc2UgbWVudVxyXG4gICAgYmxhY2tfYXJlYS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJoZWFkZXJcIikuY2xhc3NMaXN0LnJlbW92ZShcIm9wZW5cIilcclxuICAgIH0pXHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgYmFyc1tpXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2hhbmdlQWN0aXZlQmFyKVxyXG4gICAgfVxyXG5cclxuICAgIC8vUHJvamVjdHMgY2Fyb3VzZWxcclxuICAgIGlmIChhcnJvd19sZWZ0ICE9IG51bGwgJiBhcnJvd19yaWdodCAhPSBudWxsKVxyXG4gICAgICAgIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGFycm93X2xlZnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxvb3AoZmFsc2UpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGFycm93X3JpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsb29wKHRydWUpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSkoKVxyXG5cclxuXHJcbiAgICAvL0NvbnRhY3QgZm9ybSBvbiBDb250YWN0IHBhZ2VcclxuICAgIGlmIChzZW5kX2NvbnRhY3QgIT0gbnVsbClcclxuICAgICAgICAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZW5kX2NvbnRhY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjb250YWN0X2Zvcm0gPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWN0aW9uLWZvcm0gaW5wdXRbbmFtZT0nbmFtZSddXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VjdGlvbi1mb3JtIGlucHV0W25hbWU9J2NvbXBhbnlfbmFtZSddXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VjdGlvbi1mb3JtIGlucHV0W25hbWU9J2UtbWFpbCddXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VjdGlvbi1mb3JtIGlucHV0W25hbWU9J3RlbGVwaG9uZSddXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VjdGlvbi1mb3JtIHRleHRhcmVhW25hbWU9J21lc3NhZ2UnXVwiKVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2UoLi4uY29udGFjdF9mb3JtLCBzZW5kX2NvbnRhY3QpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSkoKVxyXG5cclxuICAgIC8vQ29udGFjdCBmb3JtIGluIG1lbnVcclxuICAgIGlmIChzZW5kX21lbnUgIT0gbnVsbClcclxuICAgICAgICAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZW5kX21lbnUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGxldCBtZW51X2Zvcm0gPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51LWZvcm0gaW5wdXRbbmFtZT0nbmFtZSddXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudS1mb3JtIGlucHV0W25hbWU9J2NvbXBhbnlfbmFtZSddXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudS1mb3JtIGlucHV0W25hbWU9J2UtbWFpbCddXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudS1mb3JtIGlucHV0W25hbWU9J3RlbGVwaG9uZSddXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWVudS1mb3JtIHRleHRhcmVhW25hbWU9J21lc3NhZ2UnXVwiKVxyXG4gICAgICAgICAgICAgICAgXVxyXG5cclxuICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlKC4uLm1lbnVfZm9ybSwgc2VuZF9tZW51KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0oKSlcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBjaGVja0ltYWdlc0xvYWRlZChpbWcsIHByZWxvYWRlcilcclxuICAgIH0sIDUwMCk7XHJcblxyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsICgpID0+IHtcclxuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWN0aW9uLWhlYWRlclwiKSAhPSBudWxsKVxyXG4gICAgICAgICAgICBwYXJhbGF4KClcclxuICAgIH0pXHJcblxyXG4gICAgQU9TLmluaXQoKVxyXG59KSJdfQ==
